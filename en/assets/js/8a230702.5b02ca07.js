"use strict";(globalThis.webpackChunkdocs_site=globalThis.webpackChunkdocs_site||[]).push([[974],{19599:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"development/tgo-command","title":"TGO Commands","description":"tgo.sh is the main management script for TGO, providing all common commands for deployment, operations, and configuration.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/development/tgo-command.md","sourceDirName":"development","slug":"/development/tgo-command","permalink":"/en/development/tgo-command","draft":false,"unlisted":false,"editUrl":"https://github.com/tgoai/tgo/edit/main/docs-site/docs/development/tgo-command.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"id":"tgo-command","title":"TGO Commands","sidebar_position":4},"sidebar":"docsSidebar","previous":{"title":"\u8c03\u8bd5\u5de5\u5177","permalink":"/en/development/debug-tools"}}');var d=s(74848),r=s(28453);const l={id:"tgo-command",title:"TGO Commands",sidebar_position:4},t="TGO Commands",c={},o=[{value:"Command Overview",id:"command-overview",level:2},{value:"Basic Commands",id:"basic-commands",level:2},{value:"help",id:"help",level:3},{value:"install",id:"install",level:3},{value:"up",id:"up",level:3},{value:"down",id:"down",level:3},{value:"upgrade",id:"upgrade",level:3},{value:"doctor",id:"doctor",level:3},{value:"Service Management Commands",id:"service-management-commands",level:2},{value:"service",id:"service",level:3},{value:"tools",id:"tools",level:3},{value:"build",id:"build",level:3},{value:"Configuration Commands",id:"configuration-commands",level:2},{value:"config",id:"config",level:3},{value:"Domain Configuration",id:"domain-configuration",level:4},{value:"SSL Configuration",id:"ssl-configuration",level:4},{value:"Other Config Commands",id:"other-config-commands",level:4},{value:"Environment Variables",id:"environment-variables",level:2},{value:"Configuration Files",id:"configuration-files",level:2},{value:"Data Directories",id:"data-directories",level:2},{value:"Usage Recommendations",id:"usage-recommendations",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.header,{children:(0,d.jsx)(n.h1,{id:"tgo-commands",children:"TGO Commands"})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"tgo.sh"})," is the main management script for TGO, providing all common commands for deployment, operations, and configuration."]}),"\n",(0,d.jsx)(n.h2,{id:"command-overview",children:"Command Overview"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"./tgo.sh <command> [options]\n"})}),"\n",(0,d.jsx)(n.h2,{id:"basic-commands",children:"Basic Commands"}),"\n",(0,d.jsx)(n.h3,{id:"help",children:"help"}),"\n",(0,d.jsx)(n.p,{children:"Display help information:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"./tgo.sh help\n"})}),"\n",(0,d.jsx)(n.h3,{id:"install",children:"install"}),"\n",(0,d.jsx)(n.p,{children:"First-time installation and start all services:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"./tgo.sh install [--source] [--cn]\n"})}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Option"}),(0,d.jsx)(n.th,{children:"Description"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"--source"})}),(0,d.jsx)(n.td,{children:"Build from source (instead of pre-built images)"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"--cn"})}),(0,d.jsx)(n.td,{children:"Use China mirrors for acceleration"})]})]})]}),"\n",(0,d.jsx)(n.p,{children:"Examples:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# Default install (using pre-built images)\n./tgo.sh install\n\n# Source install\n./tgo.sh install --source\n\n# Install with China mirrors\n./tgo.sh install --cn\n\n# Combined options\n./tgo.sh install --source --cn\n"})}),"\n",(0,d.jsx)(n.h3,{id:"up",children:"up"}),"\n",(0,d.jsx)(n.p,{children:"Start all services (without initialization):"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"./tgo.sh up [--source] [--cn]\n"})}),"\n",(0,d.jsxs)(n.p,{children:["Use after ",(0,d.jsx)(n.code,{children:"down"})," to restart services."]}),"\n",(0,d.jsx)(n.h3,{id:"down",children:"down"}),"\n",(0,d.jsx)(n.p,{children:"Stop and remove all containers:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"./tgo.sh down [--volumes]\n"})}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Option"}),(0,d.jsx)(n.th,{children:"Description"})]})}),(0,d.jsx)(n.tbody,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"--volumes"})}),(0,d.jsxs)(n.td,{children:["Also remove data volumes (",(0,d.jsx)(n.strong,{children:"data will be lost"}),")"]})]})})]}),"\n",(0,d.jsx)(n.h3,{id:"upgrade",children:"upgrade"}),"\n",(0,d.jsx)(n.p,{children:"Upgrade to latest version:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"./tgo.sh upgrade [--source] [--cn]\n"})}),"\n",(0,d.jsx)(n.p,{children:"Automatically remembers the mode used during initial installation."}),"\n",(0,d.jsx)(n.h3,{id:"doctor",children:"doctor"}),"\n",(0,d.jsx)(n.p,{children:"Check health status of all services:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"./tgo.sh doctor\n"})}),"\n",(0,d.jsx)(n.p,{children:"Output includes:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"Service running status"}),"\n",(0,d.jsx)(n.li,{children:"Configuration checks"}),"\n",(0,d.jsx)(n.li,{children:"Endpoint response tests"}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"service-management-commands",children:"Service Management Commands"}),"\n",(0,d.jsx)(n.h3,{id:"service",children:"service"}),"\n",(0,d.jsx)(n.p,{children:"Manage core services:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"./tgo.sh service <start|stop|remove> [--source] [--cn]\n"})}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Subcommand"}),(0,d.jsx)(n.th,{children:"Description"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"start"})}),(0,d.jsx)(n.td,{children:"Start services"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"stop"})}),(0,d.jsx)(n.td,{children:"Stop services"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"remove"})}),(0,d.jsx)(n.td,{children:"Remove services"})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"tools",children:"tools"}),"\n",(0,d.jsx)(n.p,{children:"Manage debug tools (Kafka UI, Adminer):"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"./tgo.sh tools <start|stop>\n"})}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Subcommand"}),(0,d.jsx)(n.th,{children:"Description"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"start"})}),(0,d.jsx)(n.td,{children:"Start debug tools"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"stop"})}),(0,d.jsx)(n.td,{children:"Stop debug tools"})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"build",children:"build"}),"\n",(0,d.jsx)(n.p,{children:"Build specific service from source:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"./tgo.sh build <service>\n"})}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Service"}),(0,d.jsx)(n.th,{children:"Description"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"api"})}),(0,d.jsx)(n.td,{children:"Build tgo-api"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"ai"})}),(0,d.jsx)(n.td,{children:"Build tgo-ai"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"rag"})}),(0,d.jsx)(n.td,{children:"Build tgo-rag"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"platform"})}),(0,d.jsx)(n.td,{children:"Build tgo-platform"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"web"})}),(0,d.jsx)(n.td,{children:"Build tgo-web"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"widget"})}),(0,d.jsx)(n.td,{children:"Build tgo-widget"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"all"})}),(0,d.jsx)(n.td,{children:"Build all services"})]})]})]}),"\n",(0,d.jsx)(n.h2,{id:"configuration-commands",children:"Configuration Commands"}),"\n",(0,d.jsx)(n.h3,{id:"config",children:"config"}),"\n",(0,d.jsx)(n.p,{children:"Domain and SSL certificate configuration:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"./tgo.sh config <subcommand> [args]\n"})}),"\n",(0,d.jsx)(n.h4,{id:"domain-configuration",children:"Domain Configuration"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"./tgo.sh config web_domain <domain>      # Set Web domain\n./tgo.sh config widget_domain <domain>   # Set Widget domain\n./tgo.sh config api_domain <domain>      # Set API domain\n./tgo.sh config ws_domain <domain>       # Set WebSocket domain\n"})}),"\n",(0,d.jsx)(n.h4,{id:"ssl-configuration",children:"SSL Configuration"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"./tgo.sh config ssl_mode <auto|manual|none>   # Set SSL mode\n./tgo.sh config ssl_email <email>              # Set Let's Encrypt email\n./tgo.sh config ssl_manual <cert> <key> [domain]  # Install manual certificate\n./tgo.sh config setup_letsencrypt              # Request Let's Encrypt certificates\n"})}),"\n",(0,d.jsx)(n.h4,{id:"other-config-commands",children:"Other Config Commands"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"./tgo.sh config apply   # Apply config (regenerate Nginx config)\n./tgo.sh config show    # Show current configuration\n"})}),"\n",(0,d.jsx)(n.h2,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,d.jsx)(n.p,{children:"The one-click installation script supports these environment variables:"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Variable"}),(0,d.jsx)(n.th,{children:"Description"}),(0,d.jsx)(n.th,{children:"Default"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"REF"})}),(0,d.jsx)(n.td,{children:"Deploy version (branch/tag/commit)"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"latest"})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"DIR"})}),(0,d.jsx)(n.td,{children:"Installation directory"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"./tgo"})})]})]})]}),"\n",(0,d.jsx)(n.p,{children:"Example:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"REF=v1.0.0 DIR=/opt/tgo curl -fsSL https://raw.githubusercontent.com/tgoai/tgo/main/bootstrap.sh | bash\n"})}),"\n",(0,d.jsx)(n.h2,{id:"configuration-files",children:"Configuration Files"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"File"}),(0,d.jsx)(n.th,{children:"Description"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:".env"})}),(0,d.jsx)(n.td,{children:"Global environment variables"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"envs/*.env"})}),(0,d.jsx)(n.td,{children:"Service environment variables"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"data/.tgo-install-mode"})}),(0,d.jsx)(n.td,{children:"Install mode memory"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"data/.tgo-domain-config"})}),(0,d.jsx)(n.td,{children:"Domain and SSL config"})]})]})]}),"\n",(0,d.jsx)(n.h2,{id:"data-directories",children:"Data Directories"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Directory"}),(0,d.jsx)(n.th,{children:"Description"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"data/postgres/"})}),(0,d.jsx)(n.td,{children:"PostgreSQL data"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"data/redis/"})}),(0,d.jsx)(n.td,{children:"Redis data"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"data/wukongim/"})}),(0,d.jsx)(n.td,{children:"WuKongIM data"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"data/nginx/"})}),(0,d.jsx)(n.td,{children:"Nginx config and certificates"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"data/uploads/"})}),(0,d.jsx)(n.td,{children:"Uploaded files"})]})]})]}),"\n",(0,d.jsx)(n.h2,{id:"usage-recommendations",children:"Usage Recommendations"}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Production"}),": Use ",(0,d.jsx)(n.code,{children:"./tgo.sh install"})," with default image deployment"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Development"}),": Use ",(0,d.jsx)(n.code,{children:"./tgo.sh install --source"})," for source deployment"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"China servers"}),": Add ",(0,d.jsx)(n.code,{children:"--cn"})," for acceleration"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Troubleshooting"}),": Run ",(0,d.jsx)(n.code,{children:"./tgo.sh doctor"})," first to check status"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(a,{...e})}):a(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>t});var i=s(96540);const d={},r=i.createContext(d);function l(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:l(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);