"use strict";(globalThis.webpackChunkdocs_site=globalThis.webpackChunkdocs_site||[]).push([[5211],{91697:(n,t,e)=>{e.r(t),e.d(t,{assets:()=>s,contentTitle:()=>r,default:()=>u,frontMatter:()=>a,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"plugin/examples","title":"\u5b8c\u6574\u793a\u4f8b","description":"\u672c\u7ae0\u8282\u63d0\u4f9b\u4e86\u4e24\u4e2a\u57fa\u4e8e SDK \u5f00\u53d1\u7684\u5b8c\u6574\u63d2\u4ef6\u793a\u4f8b\u3002","source":"@site/docs/plugin/examples.md","sourceDirName":"plugin","slug":"/plugin/examples","permalink":"/en/plugin/examples","draft":false,"unlisted":false,"editUrl":"https://github.com/tgoai/tgo/edit/main/docs-site/docs/plugin/examples.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"id":"examples","title":"\u5b8c\u6574\u793a\u4f8b","sidebar_position":6},"sidebar":"pluginSidebar","previous":{"title":"\u6a21\u7248\u89c4\u8303","permalink":"/en/plugin/templates"}}');var o=e(74848),l=e(28453);const a={id:"examples",title:"\u5b8c\u6574\u793a\u4f8b",sidebar_position:6},r="\u5b8c\u6574\u793a\u4f8b",s={},c=[{value:"\u793a\u4f8b\u4e00\uff1a\u5de5\u5355\u7ba1\u7406\u63d2\u4ef6 (Go)",id:"\u793a\u4f8b\u4e00\u5de5\u5355\u7ba1\u7406\u63d2\u4ef6-go",level:2},{value:"\u6838\u5fc3\u4ee3\u7801 (<code>main.go</code>)",id:"\u6838\u5fc3\u4ee3\u7801-maingo",level:3},{value:"\u793a\u4f8b\u4e8c\uff1aCRM \u5ba2\u6237\u6863\u6848 (Python)",id:"\u793a\u4f8b\u4e8ccrm-\u5ba2\u6237\u6863\u6848-python",level:2},{value:"\u6838\u5fc3\u4ee3\u7801 (<code>main.py</code>)",id:"\u6838\u5fc3\u4ee3\u7801-mainpy",level:3},{value:"\u83b7\u53d6\u66f4\u591a\u793a\u4f8b",id:"\u83b7\u53d6\u66f4\u591a\u793a\u4f8b",level:2}];function d(n){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",p:"p",pre:"pre",...(0,l.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"\u5b8c\u6574\u793a\u4f8b",children:"\u5b8c\u6574\u793a\u4f8b"})}),"\n",(0,o.jsx)(t.p,{children:"\u672c\u7ae0\u8282\u63d0\u4f9b\u4e86\u4e24\u4e2a\u57fa\u4e8e SDK \u5f00\u53d1\u7684\u5b8c\u6574\u63d2\u4ef6\u793a\u4f8b\u3002"}),"\n",(0,o.jsx)(t.h2,{id:"\u793a\u4f8b\u4e00\u5de5\u5355\u7ba1\u7406\u63d2\u4ef6-go",children:"\u793a\u4f8b\u4e00\uff1a\u5de5\u5355\u7ba1\u7406\u63d2\u4ef6 (Go)"}),"\n",(0,o.jsx)(t.p,{children:"\u8be5\u63d2\u4ef6\u5728\u8bbf\u5ba2\u9762\u677f\u663e\u793a\u5de5\u5355\u5217\u8868\uff0c\u5e76\u5728\u5de5\u5177\u680f\u63d0\u4f9b\u201c\u521b\u5efa\u5de5\u5355\u201d\u8868\u5355\u3002"}),"\n",(0,o.jsxs)(t.h3,{id:"\u6838\u5fc3\u4ee3\u7801-maingo",children:["\u6838\u5fc3\u4ee3\u7801 (",(0,o.jsx)(t.code,{children:"main.go"}),")"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-go",children:'package main\n\nimport (\n\t"fmt"\n\t"github.com/tgoai/tgo-plugin-go"\n)\n\ntype TicketPlugin struct { tgo.BasePlugin }\n\nfunc (p *TicketPlugin) Capabilities() []tgo.Capability {\n\treturn []tgo.Capability{\n\t\ttgo.VisitorPanel("\u76f8\u5173\u5de5\u5355", tgo.WithIcon("ticket")),\n\t\ttgo.ChatToolbar("\u65b0\u5efa\u5de5\u5355", tgo.WithIcon("plus-circle")),\n\t}\n}\n\nfunc (p *TicketPlugin) OnVisitorPanelRender(ctx *tgo.RenderContext) tgo.Template {\n\treturn tgo.NewGroup().\n\t\tAdd(tgo.NewTable("\u5de5\u5355\u5217\u8868").\n\t\t\tColumns("ID", "\u6807\u9898", "\u72b6\u6001").\n\t\t\tRow(map[string]any{"ID": "TK-001", "\u6807\u9898": "\u65e0\u6cd5\u767b\u5f55", "\u72b6\u6001": "Open"}))\n}\n\nfunc (p *TicketPlugin) OnChatToolbarEvent(ctx *tgo.EventContext) *tgo.Action {\n\tif ctx.ActionID == "submit" {\n\t\ttitle := ctx.FormData["title"].(string)\n\t\treturn tgo.ShowToast(fmt.Sprintf("\u5de5\u5355 \'%s\' \u5df2\u63d0\u4ea4", title), "success").\n\t\t\tThen(tgo.CloseModal())\n\t}\n\t\n\tform := tgo.NewForm("\u65b0\u5efa\u5de5\u5355").\n\t\tAdd(tgo.NewFormField("title", "\u6807\u9898", "text").SetRequired(true))\n\treturn tgo.ShowModal("\u521b\u5efa\u5de5\u5355", form)\n}\n\nfunc main() { tgo.Run(&TicketPlugin{}) }\n'})}),"\n",(0,o.jsx)(t.hr,{}),"\n",(0,o.jsx)(t.h2,{id:"\u793a\u4f8b\u4e8ccrm-\u5ba2\u6237\u6863\u6848-python",children:"\u793a\u4f8b\u4e8c\uff1aCRM \u5ba2\u6237\u6863\u6848 (Python)"}),"\n",(0,o.jsx)(t.p,{children:"\u8be5\u63d2\u4ef6\u901a\u8fc7\u5bf9\u63a5\u4f01\u4e1a CRM \u7cfb\u7edf\uff0c\u5728\u8bbf\u5ba2\u9762\u677f\u5c55\u793a\u5ba2\u6237\u7684\u7b49\u7ea7\u3001\u6d88\u8d39\u8bb0\u5f55\u7b49\u6df1\u5ea6\u4fe1\u606f\u3002"}),"\n",(0,o.jsxs)(t.h3,{id:"\u6838\u5fc3\u4ee3\u7801-mainpy",children:["\u6838\u5fc3\u4ee3\u7801 (",(0,o.jsx)(t.code,{children:"main.py"}),")"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-python",children:'from tgo_plugin import TGOPlugin, Capability, RenderContext, KeyValue, Group, Action\n\nclass CRMPlugin(TGOPlugin):\n    id = "com.tgo.crm"\n    name = "CRM \u5ba2\u6237\u6863\u6848"\n    \n    capabilities = [\n        Capability.visitor_panel(title="\u5ba2\u6237\u6863\u6848", icon="user")\n    ]\n\n    def on_visitor_panel_render(self, ctx: RenderContext):\n        # \u6a21\u62df\u4ece API \u83b7\u53d6\u6570\u636e\n        customer_data = {"level": "\u9ec4\u91d1\u4f1a\u5458", "total": "\xa512,000"}\n        \n        ui = Group()\n        info = KeyValue(title="\u57fa\u672c\u4fe1\u606f")\n        info.add("\u5ba2\u6237\u7b49\u7ea7", customer_data["level"], icon="crown", color="#FFD700")\n        info.add("\u7d2f\u8ba1\u6d88\u8d39", customer_data["total"])\n        ui.add(info)\n        return ui\n\nif __name__ == "__main__":\n    CRMPlugin().run()\n'})}),"\n",(0,o.jsx)(t.h2,{id:"\u83b7\u53d6\u66f4\u591a\u793a\u4f8b",children:"\u83b7\u53d6\u66f4\u591a\u793a\u4f8b"}),"\n",(0,o.jsxs)(t.p,{children:["\u4f60\u53ef\u4ee5\u8bbf\u95ee ",(0,o.jsx)(t.a,{href:"https://github.com/tgoai/tgo-plugin-examples",children:"GitHub \u4ed3\u5e93"})," \u83b7\u53d6\u66f4\u591a\u8bed\u8a00\u548c\u573a\u666f\u7684\u793a\u4f8b\u9879\u76ee\u3002"]})]})}function u(n={}){const{wrapper:t}={...(0,l.R)(),...n.components};return t?(0,o.jsx)(t,{...n,children:(0,o.jsx)(d,{...n})}):d(n)}}}]);